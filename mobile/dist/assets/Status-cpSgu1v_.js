import"./index-BfNrj1Io.js";import{a as Y,C as q}from"./index-CcX8rTri.js";import{B as J}from"./index-ck5WoTsJ.js";import{N as W}from"./index-QT4Twd0-.js";import{M as E,l as F,f as e,F as X,a1 as T,L as Z,Q as ee,ak as te,G as i,a0 as N,P as H,_ as ne,u as oe,a as ae,o as se,b as _,c as k,e as o,al as $,w as d,g as B,am as ie,t as y,ai as z}from"./index-DE8r4v9z.js";import"./use-placeholder-33bInLsI.js";const[V,D]=E("steps"),le={active:Z(0),direction:T("horizontal"),activeIcon:T("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},G=Symbol(V);var re=F({name:V,props:le,emits:["clickStep"],setup(g,{emit:l,slots:s}){const{linkChildren:p}=X(G);return p({props:g,onClickStep:r=>l("clickStep",r)}),()=>{var r;return e("div",{class:D([g.direction])},[e("div",{class:D("items")},[(r=s.default)==null?void 0:r.call(s)])])}}});const[ce,v]=E("step");var ue=F({name:ce,setup(g,{slots:l}){const{parent:s,index:p}=ee(G);if(!s)return;const a=s.props,r=()=>{const u=+a.active;return p.value<u?"finish":p.value===u?"process":"waiting"},c=()=>r()==="process",C=i(()=>({background:r()==="finish"?a.activeColor:a.inactiveColor})),S=i(()=>{if(c())return{color:a.activeColor};if(r()==="waiting")return{color:a.inactiveColor}}),b=()=>s.onClickStep(p.value),w=()=>{const{iconPrefix:u,finishIcon:f,activeIcon:j,activeColor:h,inactiveIcon:I}=a;return c()?l["active-icon"]?l["active-icon"]():e(N,{class:v("icon","active"),name:j,color:h,classPrefix:u},null):r()==="finish"&&(f||l["finish-icon"])?l["finish-icon"]?l["finish-icon"]():e(N,{class:v("icon","finish"),name:f,color:h,classPrefix:u},null):l["inactive-icon"]?l["inactive-icon"]():I?e(N,{class:v("icon"),name:I,classPrefix:u},null):e("i",{class:v("circle"),style:C.value},null)};return()=>{var u;const f=r();return e("div",{class:[te,v([a.direction,{[f]:f}])]},[e("div",{class:v("title",{active:c()}),style:S.value,onClick:b},[(u=l.default)==null?void 0:u.call(l)]),e("div",{class:v("circle-container"),onClick:b},[w()]),e("div",{class:v("line"),style:C.value},null)])}}});const de=H(ue),ve=H(re),pe={class:"page-container"},fe={class:"status-content"},me={class:"status-card status-not-found"},_e={style:{padding:"16px"}},ke={class:"status-text"},ye={class:"status-desc"},ge={class:"steps-card card"},Ce={key:0,class:"reject-card card"},Se={class:"reject-title"},be={class:"reject-content"},he={key:1,class:"info-card card"},Ie={style:{padding:"16px"}},xe={__name:"Status",setup(g){const l=oe(),s=ae(),p=i(()=>s.userNotFound),a=i(()=>{var n;return((n=s.employeeInfo)==null?void 0:n.onboard_status)||"pending"}),r=i(()=>{var n;return((n=s.employeeInfo)==null?void 0:n.reject_reason)||""}),c=i(()=>a.value==="rejected"||r.value),C=i(()=>{var n;return((n=s.employeeInfo)==null?void 0:n.employee_id)||"-"}),S=i(()=>{var n;return((n=s.employeeInfo)==null?void 0:n.hire_date)||"-"}),b=i(()=>{var n;return((n=s.employeeInfo)==null?void 0:n.department)||"-"}),w=i(()=>{var n;return((n=s.employeeInfo)==null?void 0:n.position)||"-"}),u=i(()=>({"status-pending":a.value==="pending"&&!c.value,"status-approved":a.value==="onboarded","status-rejected":c.value})),f=i(()=>c.value?"cross":a.value==="onboarded"?"checked":"clock-o"),j=i(()=>c.value?"审核未通过":a.value==="onboarded"?"已入职":"审核中"),h=i(()=>c.value?"请根据审核意见修改后重新提交":a.value==="onboarded"?"恭喜您，已成功入职！":"您的入职申请正在审核中，请耐心等待"),I=i(()=>a.value==="onboarded"?3:(c.value,1)),L=i(()=>c.value?"审核未通过，请修改后重新提交":a.value==="onboarded"?"审核已通过":"HR正在审核您的资料..."),M=i(()=>a.value==="onboarded"?`入职日期：${S.value}`:"等待审核通过");function O(){s.logout(),l.replace("/login")}function A(){l.push("/home")}return se(async()=>{var n;await s.fetchOnboardStatus(),((n=s.employeeInfo)==null?void 0:n.onboard_status)==="onboarded"&&l.replace("/home")}),(n,t)=>{const K=W,m=N,R=J,x=de,Q=ve,P=Y,U=q;return _(),k("div",pe,[e(K,{title:"入职进度"}),o("div",fe,[p.value?(_(),k($,{key:0},[o("div",me,[e(m,{name:"warning-o",size:"48"}),t[1]||(t[1]=o("div",{class:"status-text"},"账号已失效",-1)),t[2]||(t[2]=o("div",{class:"status-desc"},"您的账号信息不存在或已被删除，请联系HR",-1))]),o("div",_e,[e(R,{type:"primary",block:"",round:"",onClick:O},{default:d(()=>[...t[3]||(t[3]=[B(" 重新登录 ",-1)])]),_:1})])],64)):(_(),k($,{key:1},[o("div",{class:ie(["status-card",u.value])},[e(m,{name:f.value,size:"48"},null,8,["name"]),o("div",ke,y(j.value),1),o("div",ye,y(h.value),1)],2),o("div",ge,[e(Q,{active:I.value,direction:"vertical"},{default:d(()=>[e(x,null,{"active-icon":d(()=>[e(m,{name:"checked"})]),default:d(()=>[t[4]||(t[4]=o("h3",null,"提交申请",-1)),t[5]||(t[5]=o("p",null,"已完成注册，资料已提交",-1))]),_:1}),e(x,null,{"active-icon":d(()=>[e(m,{name:"checked"})]),default:d(()=>[t[6]||(t[6]=o("h3",null,"HR审核中",-1)),o("p",null,y(L.value),1)]),_:1}),e(x,null,{default:d(()=>[t[7]||(t[7]=o("h3",null,"审核通过",-1)),o("p",null,y(M.value),1)]),_:1}),e(x,null,{default:d(()=>[...t[8]||(t[8]=[o("h3",null,"正式入职",-1),o("p",null,"开始签到打卡",-1)])]),_:1})]),_:1},8,["active"])]),r.value?(_(),k("div",Ce,[o("div",Se,[e(m,{name:"warning-o",color:"#ee0a24"}),t[9]||(t[9]=o("span",null,"审核意见",-1))]),o("div",be,y(r.value),1),e(R,{type:"primary",size:"small",round:"",onClick:t[0]||(t[0]=Pe=>n.$router.push("/profile"))},{default:d(()=>[...t[10]||(t[10]=[B(" 修改资料重新提交 ",-1)])]),_:1})])):z("",!0),a.value==="onboarded"?(_(),k("div",he,[e(U,{border:!1},{default:d(()=>[e(P,{title:"员工编号",value:C.value},null,8,["value"]),e(P,{title:"入职日期",value:S.value},null,8,["value"]),e(P,{title:"所属部门",value:b.value},null,8,["value"]),e(P,{title:"职位",value:w.value},null,8,["value"])]),_:1}),o("div",Ie,[e(R,{type:"primary",block:"",round:"",onClick:A},{default:d(()=>[...t[11]||(t[11]=[B(" 进入首页 ",-1)])]),_:1})])])):z("",!0)],64))])])}}},$e=ne(xe,[["__scopeId","data-v-cc17ca52"]]);export{$e as default};
