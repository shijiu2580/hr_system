import"./index-BfNrj1Io.js";import{B as b}from"./index-ck5WoTsJ.js";import{C as w}from"./index-CcX8rTri.js";import{F as y}from"./index-DmReRFXi.js";import{N as V}from"./index-QT4Twd0-.js";import{_ as x,u as k,h as B,a as C,b as N,c as F,f as t,e as s,w as i,g as L,r as p,i as S,s as $}from"./index-DE8r4v9z.js";import{F as q}from"./index-B3pv3eh3.js";import"./use-placeholder-33bInLsI.js";const T={class:"page-container"},U={class:"form-container"},R={style:{margin:"24px 16px"}},E={class:"footer-links"},G={__name:"Login",setup(I){const l=k(),c=B(),d=C(),a=p({username:"",password:""}),u=p(!1);async function f(){var r,e;u.value=!0;try{await d.login(a.value),S(!0);const o=c.query.redirect;o?l.replace(o):d.onboardStatus==="onboarded"?l.replace("/home"):l.replace("/status")}catch(o){$(((e=(r=o.response)==null?void 0:r.data)==null?void 0:e.detail)||"登录失败")}finally{u.value=!1}}return(r,e)=>{const o=V,m=y,_=w,v=b,g=q;return N(),F("div",T,[t(o,{title:"登录","left-arrow":"",onClickLeft:e[0]||(e[0]=n=>r.$router.back())}),s("div",U,[e[5]||(e[5]=s("div",{class:"page-title"},"欢迎回来",-1)),e[6]||(e[6]=s("p",{class:"desc-text",style:{"text-align":"center","margin-bottom":"30px"}}," 使用您的账号登录 ",-1)),t(g,{onSubmit:f},{default:i(()=>[t(_,{inset:""},{default:i(()=>[t(m,{modelValue:a.value.username,"onUpdate:modelValue":e[1]||(e[1]=n=>a.value.username=n),name:"username",label:"账号",placeholder:"手机号/邮箱/员工编号",rules:[{required:!0,message:"请输入账号"}]},null,8,["modelValue"]),t(m,{modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=n=>a.value.password=n),type:"password",name:"password",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请输入密码"}]},null,8,["modelValue"])]),_:1}),s("div",R,[t(v,{round:"",block:"",type:"primary","native-type":"submit",loading:u.value},{default:i(()=>[...e[4]||(e[4]=[L(" 登录 ",-1)])]),_:1},8,["loading"])])]),_:1}),s("div",E,[s("span",{onClick:e[3]||(e[3]=n=>r.$router.push("/register"))},"还没有账号？立即注册")])])])}}},M=x(G,[["__scopeId","data-v-4a2e103e"]]);export{M as default};
